var AngularApp=angular.module("AngularApp",["ngSanitize","ngRoute","ngAnimate","ngMessages","ui.bootstrap","contenteditable"]);AngularApp.run(["$rootScope","$http","$ui",function(t,e,n){e.get("angular/meta.json").success(function(e){t.AppName=e.name,t.AppVersion=e.version,t.AppDescription=e.description,t.AppCopyright=e.copyright,t.AppAuthors=e.authors}),t.PageName="Home",t.$ui=n}]).run(["$rootScope","$location",function(t,e){t.$on("$routeChangeError",function(){e.url("/")}),t.$ui.Ready(function(){Date.prototype.toJSON=function(){return new Date(this.getTime()-6e4*this.getTimezoneOffset()).toISOString()}})}]),AngularApp.config(["$routeProvider",function(t){t.when("/",{templateUrl:"views/home/index.html"}).when("/:base/:sub",{templateUrl:function(t){return"views/"+t.base+"/"+t.sub+".html"}}).when("/:base",{templateUrl:function(t){return"views/"+t.base+"/index.html"}})}]).config(["$locationProvider",function(t){t.html5Mode(!1)}]),AngularApp.controller("DiffCtrl",["$scope","$diffr",function(t,e){t.DiffText={Left:"",Right:""},t.DiffResults={left:"",right:""},t.$watchGroup(["DiffText.Left","DiffText.Right"],function(n){var i=n[0],r=n[1];null!==i&&null!==r&&(t.DiffResults=e.Diff(i,r))})}]),AngularApp.service("$ui",["$timeout",function(t){this.Ready=function(t){angular.element(document).ready(t)}}]),AngularApp.service("diffrHelpers",["$sce",function(t){var e=this;e.ProcessHtml=function(t){var e=$("<div>"+t+"</div>");return e.find("br").replaceWith("\n"),e.text()},e.ParseDiffToHtml=function(e){for(var n="",i=0;i<e.length;i++){var r=e[i];n+=r.match===!1?"<span style='color:red'>"+r.text+"</span>":r.text,n+="<br>"}return t.trustAsHtml(n)}}]),AngularApp.service("$diffr",["diffrHelpers",function(t){var e=this;e.Diff=function(n,i){var r=t.ProcessHtml(n),o=t.ProcessHtml(i);return e.Differentiate(r,o)},e.Differentiate=function(n,i){for(var r=e.GetDiffLines(n),o=e.GetDiffLines(i),f=Math.max(r.length,o.length),a=0;f>a;a++){var u=r[a],s=o[a];u?s?e.DiffLine(u,s):(o[a]={text:"",match:!1},u.match=!1):(r[a]={text:"",match:!1},s.match=!1)}return{left:t.ParseDiffToHtml(r),right:t.ParseDiffToHtml(o)}},e.DiffLine=function(t,e){t.text!==e.text&&(t.match=!1,e.match=!1)},e.GetDiffLines=function(t){for(var e=t.toString().split("\n"),n=[],i=0;i<e.length;i++){var r=e[i];n.push({text:r})}return n}}]);