var AngularApp=angular.module("AngularApp",["ngSanitize","ngRoute","ngAnimate","ngMessages","ui.bootstrap","contenteditable"]);AngularApp.run(["$rootScope","$http","$ui",function(t,e,n){e.get("angular/meta.json").success(function(e){t.AppName=e.name,t.AppVersion=e.version,t.AppDescription=e.description,t.AppCopyright=e.copyright,t.AppAuthors=e.authors}),t.PageName="Home",t.$ui=n}]).run(["$rootScope","$location",function(t,e){t.$on("$routeChangeError",function(){e.url("/")}),t.$ui.Ready(function(){Date.prototype.toJSON=function(){return new Date(this.getTime()-6e4*this.getTimezoneOffset()).toISOString()}})}]),AngularApp.config(["$routeProvider",function(t){t.when("/",{templateUrl:"views/home/index.html"}).when("/:base/:sub",{templateUrl:function(t){return"views/"+t.base+"/"+t.sub+".html"}}).when("/:base",{templateUrl:function(t){return"views/"+t.base+"/index.html"}})}]).config(["$locationProvider",function(t){t.html5Mode(!1)}]),AngularApp.controller("DiffCtrl",["$scope","$sce","$diffr",function(t,e,n){t.DiffText={Left:"",Right:""},t.Differentiate=function(){var i=t.DiffText.Left,r=t.DiffText.Right;if(null!==i&&null!==r){var f=n.Diff(i,r);t.DiffResults={Left:e.trustAsHtml(f.Left),Right:e.trustAsHtml(f.Right)},console.log(f),t.DiffText.Left=f.Left,t.DiffText.Right=f.Right}}}]),AngularApp.service("$ui",["$timeout",function(t){this.Ready=function(t){angular.element(document).ready(t)}}]),AngularApp.service("diffrHelpers",function(){var t=this;t.ProcessHtml=function(t){var e=$("<div>"+t+"</div>");return e.find("br").replaceWith("\n"),e.text()},t.ParseDiffToHtml=function(t){if(0===t.length)return"";for(var e="",n=0;n<t.length;n++){n>0&&(e+="<br>");var i=t[n];e+=i.match===!1?"<span style='color:red'>"+i.text+"</span>":i.text}return e}}),AngularApp.service("$diffr",["diffrHelpers",function(t){var e=this;e.Diff=function(n,i){var r=t.ProcessHtml(n),f=t.ProcessHtml(i);return e.Differentiate(r,f)},e.Differentiate=function(n,i){var r=e.GetDiffLines(n),f=e.GetDiffLines(i),o=Math.max(r.length,f.length);if(0===o)return{Left:"",Right:""};for(var a=0;o>a;a++){var u=r[a],s=f[a];u?s?e.DiffLine(u,s):u.match=!1:s.match=!1}return{Left:t.ParseDiffToHtml(r),Right:t.ParseDiffToHtml(f)}},e.DiffLine=function(t,e){t.text!==e.text&&(t.match=!1,e.match=!1)},e.GetDiffLines=function(t){if(!t)return[];for(var e=t.toString().split("\n"),n=[],i=0;i<e.length;i++){var r=e[i];n.push({text:r})}return n}}]);